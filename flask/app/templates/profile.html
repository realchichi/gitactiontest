{% extends "base.html" %}

{% block content %}

    <div class="search-box">

        <div id="edit_profile">
            <div>
                <img id ="current_avatar"src={{current_user.avatar_url}} width="200">
                <button id ="edit_button"><img  src="static/img/pen.png" width="20" ></button>
            </div>
            
            <div class="row" id="select_avatar" style="display:none;">
                <div class ="col" id="avatar_to_select">
                    <button class="avatarna" id="avatar" value="1">
                        <img src="static/img/avatar/1.png" width="50">
                    </button >
                    <button class="avatarna" id="avatar" value="2">
                        <img src="static/img/avatar/2.png" width="50">
                    </button>
                    <button class="avatarna" id="avatar" value="3">
                        <img src="static/img/avatar/3.png" width="50">
                    </button>
                    <button class="avatarna" id="avatar" value="4">
                        <img src="static/img/avatar/4.png" width="50">
                    </button>
                    <button class="avatarna" id="avatar" value="5">
                        <img src="static/img/avatar/5.png" width="50">
                    </button>
                    <button class="avatarna" id="avatar" value="6">
                        <img src="static/img/avatar/6.png" width="50">
                    </button>
                    <button class="avatarna" id="avatar" value="7">
                        <img src="static/img/avatar/7.png" width="50">
                    </button>
                    <button class="avatarna" id="avatar" value="7">
                        <img src="static/img/avatar/8.png" width="50">
                    </button>
                </div>
            </div>
            <div class="text-show">
                <div class="">
                    <p id ="edit_email">email : {{current_user.email}}</p>
                <button id ="edit_button_email">edit</button>
                </div>
                <div class="">
                <p>Name : {{current_user.name}}</p>
                <button id ="edit_button_name">edit</button>
                </div>
            </div>
            
        </div>

    </div>
    <p id="get" avatar={{current_user.avatar_url}} name={{current_user.name}} email={{current_user.email}}></p>
    <script>
        var divElement = document.getElementById('get');
        var email = divElement.getAttribute('email');
        var avatar = divElement.getAttribute('avatar');
        var name = divElement.getAttribute('name');

        $("#edit_button").click(function(){
            $("#select_avatar").toggle("fast")
        })
        var buttons = document.querySelectorAll(".avatarna");
        buttons.forEach(function(button) {
            button.addEventListener("click", function() {
                var buttonValue = this.value.toString();
                // console.log("Button value:", buttonValue);
                $("#current_avatar").attr("src","static/img/avatar/"+buttonValue+".png")
                avatar = "static/img/avatar/"+buttonValue+".png"
            });
        });

    </script>    
    
{% endblock %}

